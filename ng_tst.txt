map $request_uri $allowed {
    default          0;
    /sitezr/hs/BonusInfo/PostCardRegistration 1;
    /sitezr/hs/BonusInfo/PostBonusSumm 1;
    /sitezr/hs/BonusInfo/PostCarRegistration 1;
    /sitezr/hs/BonusInfo/CalculateDiscounts 1;
    /sitezr/hs/BonusInfo/PostAddUpdOrder 1;
    /sitezr/hs/BonusInfo/PostGetPriceMetal 1;
}

server {
    listen 443 ssl;
    include snippets/self-signed.conf;
    include snippets/self-params.conf;

    location / {
        if ($allowed) {
            proxy_pass https://10.10.1.39;
        }
        return 403;  # Forbidden
    }
}
